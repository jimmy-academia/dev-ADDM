# G3_time_value_V0: Base Time-Value Assessment
# V0 = Base: Simple per-instance reasoning, basic thresholds

policy_id: "G3_time_value_V0"
version: "1.0"

# === OVERVIEW (generates Overview section) ===
overview:
  title: "Time-Value Assessment"

  purpose: |
    Help assess whether waiting at this restaurant is worth it using customer reviews as evidence.
    Assign a verdict: Not Worth Waiting, Worth Waiting, or Definitely Worth Waiting.

  incident_definition: |
    Consider reviews that mention any of the following:
    - wait times for seating, food, or service
    - reservations and whether they were honored
    - whether the wait was justified by the experience
    - willingness to wait again

    Reviews that don't mention timing or waiting carry less weight.

# === NORMATIVE (generates Definitions + Verdict Rules) ===
normative:
  # Terms -> auto-generates Definitions section
  terms:
    - ref: "shared:ACCOUNT_TYPE"
    - ref: "time_value:WAIT_TYPE"
    - ref: "time_value:WAIT_DURATION"
    - ref: "time_value:WAIT_JUSTIFICATION"
    - ref: "time_value:WOULD_WAIT_AGAIN"

  # Decision policy -> generates Verdict Rules section
  decision:
    verdicts: ["Not Worth Waiting", "Worth Waiting", "Definitely Worth Waiting"]
    ordered: true  # Higher = better

    rules:
      - verdict: "Definitely Worth Waiting"
        label: "DEFINITELY"
        logic: ANY
        conditions:
          - "Multiple reviews say the experience was 'worth the wait'"
          - "Long waits consistently justified by exceptional experience"
          - "Reviewers say they would gladly wait again"

      - verdict: "Not Worth Waiting"
        label: "NOT_WORTH"
        precondition: "Definitely Worth Waiting does not apply"
        logic: ANY
        conditions:
          - "Multiple reviews describe waits as 'not worth it'"
          - "Reservations frequently not honored"
          - "Long waits for mediocre experience"

      - verdict: "Worth Waiting"
        label: "WORTH"
        default: true
        especially_when:
          - "Wait times are reasonable for the quality"
          - "Mixed reviews about whether wait is justified"
          - "Good experience but some timing issues"

  # Output format
  output:
    verdict:
      type: enum
      values: ["Not Worth Waiting", "Worth Waiting", "Definitely Worth Waiting"]
      required: true

    evidence:
      type: array
      items:
        review_id: string
        quote: string
      description: "Relevant quotes supporting the verdict"

    justification:
      type: string
      required: true
      description: "Explain how the evidence was used to arrive at the final verdict"

    confidence:
      type: enum
      values: ["low", "medium", "high"]
      note: "Based on evidence volume: low=1-2, medium=3-5, high=6+ relevant reviews"

    other_notes:
      type: string
      optional: true
      description: "Any other relevant observations or caveats"
