policy_id: G3_time_value_V0
version: '1.0'
overview:
  title: Time-Value Assessment
  purpose: |
    Help assess whether waiting at this restaurant is worth it using customer reviews as evidence.
    Assign a verdict: Not Worth Waiting, Worth Waiting, or Definitely Worth Waiting.
  incident_definition: |
    Consider reviews that mention any of the following:
    - wait times for seating, food, or service
    - reservations and whether they were honored
    - whether the wait was justified by the experience
    - willingness to wait again

    Reviews that don't mention timing or waiting carry less weight.
normative:
  terms:
  - ref: shared:ACCOUNT_TYPE
  - ref: time_value:WAIT_TYPE
  - ref: time_value:WAIT_DURATION
  - ref: time_value:WAIT_JUSTIFICATION
  - ref: time_value:WOULD_WAIT_AGAIN
  decision:
    verdicts:
    - Not Worth Waiting
    - Worth Waiting
    - Definitely Worth Waiting
    ordered: true
    rules:
    - verdict: Definitely Worth Waiting
      label: DEFINITELY
      logic: ANY
      conditions:
      - text: 80 or more reviews say it was definitely worth the wait
        type: count_threshold
        filter:
          wait_justification: definitely_worth_it
        min_count: 80
        min_count_by_k:
          25: 10
          50: 20
          100: 40
      - text: 100 or more reviews say they would definitely wait again
        type: count_threshold
        filter:
          would_wait_again: definitely
        min_count: 100
        min_count_by_k:
          25: 13
          50: 25
          100: 50
    - verdict: Not Worth Waiting
      label: NOT_WORTH
      precondition: Definitely Worth Waiting does not apply
      logic: ANY
      conditions:
      - text: 50 or more reviews describe waits as 'not worth it'
        type: count_threshold
        filter:
          wait_justification: not_worth_it
        min_count: 50
        min_count_by_k:
          25: 6
          50: 13
          100: 25
      - text: 35 or more reviews say they would never wait again
        type: count_threshold
        filter:
          would_wait_again: never
        min_count: 35
        min_count_by_k:
          25: 4
          50: 9
          100: 18
    - verdict: Worth Waiting
      label: WORTH
      default: true
  output:
    verdict:
      type: enum
      values:
      - Not Worth Waiting
      - Worth Waiting
      - Definitely Worth Waiting
      required: true
    evidence:
      type: array
      items:
        review_id: string
        quote: string
      description: Relevant quotes supporting the verdict
    justification:
      type: string
      required: true
      description: Explain how the evidence was used to arrive at the final verdict
    confidence:
      type: enum
      values:
      - low
      - medium
      - high
      note: 'Based on evidence volume: low=1-2, medium=3-5, high=6+ relevant reviews'
    other_notes:
      type: string
      optional: true
      description: Any other relevant observations or caveats
