policy_id: G2_romance_V1
extends: G2_romance_V0
version: '1.0'
overview:
  title: Romantic Dining Suitability Assessment
  purpose: |
    Help assess how suitable this restaurant is for romantic dining (dates, anniversaries, proposals)
    using customer reviews as evidence.
    Assign a suitability label: Not Recommended, Acceptable, or Recommended.
  incident_definition: |
    Consider reviews that mention any of the following:
    - date nights, anniversaries, romantic occasions, proposals
    - ambiance, lighting, noise level, privacy
    - service style (rushed vs. attentive)
    - overall romantic atmosphere

    Reviews that only discuss food without mentioning atmosphere carry less weight.
normative:
  terms:
  - ref: shared:ACCOUNT_TYPE
  - ref: romance:AMBIANCE_QUALITY
  - ref: romance:NOISE_LEVEL
  - ref: romance:LIGHTING_QUALITY
  - ref: romance:SERVICE_STYLE
  - ref: romance:DATE_OUTCOME
  decision:
    verdicts:
    - Not Recommended
    - Acceptable
    - Recommended
    ordered: true
    rules:
    - verdict: Recommended
      label: RECOMMENDED
      logic: ANY
      conditions:
      - text: 20 or more reviews describe excellent romantic ambiance
        type: count_threshold
        filter:
          ambiance_quality: excellent
        min_count: 20
        min_count_by_k:
          25: 5
          50: 9
          100: 14
      - text: 100 or more reviews mention successful dates, proposals, or anniversaries
        type: count_threshold
        filter:
          date_outcome: positive
        min_count: 100
        min_count_by_k:
          25: 16
          50: 33
          100: 58
      - text: 15 or more reviews describe it as quiet, intimate, or romantic
        type: count_threshold
        filter:
          ambiance_quality:
          - intimate
          - romantic
        min_count: 15
        min_count_by_k:
          25: 5
          50: 8
          100: 12
      - text: 5 or more reviews describe a memorable date outcome
        type: count_threshold
        filter:
          date_outcome: memorable
        min_count: 5
        min_count_by_k:
          25: 2
          50: 3
          100: 4
      - text: 5 or more reviews describe romantic service style
        type: count_threshold
        filter:
          service_style: romantic
        min_count: 5
        min_count_by_k:
          25: 2
          50: 3
          100: 4
    - verdict: Not Recommended
      label: NOT_RECOMMENDED
      precondition: Recommended does not apply
      logic: ANY
      conditions:
      - text: 20 or more reviews describe loud noise preventing conversation
        type: count_threshold
        filter:
          noise_level: loud
        min_count: 20
        min_count_by_k:
          25: 4
          50: 8
          100: 13
      - text: 15 or more reviews describe harsh lighting or unromantic atmosphere
        type: count_threshold
        filter:
          ambiance_quality:
          - harsh
          - unromantic
        min_count: 15
        min_count_by_k:
          25: 3
          50: 6
          100: 10
      - text: 50 or more reviews describe negative date experiences
        type: count_threshold
        filter:
          date_outcome: negative
        min_count: 50
        min_count_by_k:
          25: 8
          50: 16
          100: 28
      - text: 10 or more reviews describe rushed service style
        type: count_threshold
        filter:
          service_style: rushed
        min_count: 10
        min_count_by_k:
          25: 3
          50: 5
          100: 7
    - verdict: Acceptable
      label: ACCEPTABLE
      default: true
  output:
    verdict:
      type: enum
      values:
      - Not Recommended
      - Acceptable
      - Recommended
      required: true
    evidence:
      type: array
      items:
        review_id: string
        quote: string
      description: Relevant quotes supporting the verdict
    justification:
      type: string
      required: true
      description: Explain how the evidence was used to arrive at the final verdict
    confidence:
      type: enum
      values:
      - low
      - medium
      - high
      note: 'Based on evidence volume: low=1-2, medium=3-5, high=6+ relevant reviews'
    other_notes:
      type: string
      optional: true
      description: Any other relevant observations or caveats
