policy_id: G4_server_V2
extends: G4_server_V1
version: '1.0'
overview:
  title: Server Performance Assessment
  purpose: |
    Help assess the front-of-house staff performance at this restaurant using customer reviews as evidence.
    This is from the perspective of a business owner evaluating their service team.
    Assign a performance label: Needs Improvement, Satisfactory, or Excellent.

    This assessment uses a point-based scoring system to quantify performance.
  incident_definition: |
    Consider reviews that mention any of the following:
    - server attentiveness and responsiveness
    - friendliness and demeanor
    - menu knowledge and recommendations
    - service errors and how they were handled
    - exceptional servers mentioned by name

    Reviews that only discuss food without mentioning service carry less weight.
normative:
  terms:
  - ref: shared:ACCOUNT_TYPE
  - ref: server:ATTENTIVENESS
  - ref: server:FRIENDLINESS
  - ref: server:MENU_KNOWLEDGE
  - ref: server:SERVICE_ERRORS
  - ref: server:NAMED_POSITIVELY
  scoring:
    field_mapping:
      severity_field: attentiveness
      value_mappings:
        excellent: Exceptional service experience
        good: Good service
        adequate: Adequate service
        poor: Minor service issue
        absent: Terrible service
      modifier_mappings:
      - field: named_positively
        value: 'true'
        label: Named with praise
      - field: menu_knowledge
        value: excellent
        label: Excellent recommendations
      - field: service_errors
        value: minor
        label: Recovery from error
      - field: friendliness
        value: rude
        label: Rude or hostile
      - field: service_errors
        value: significant
        label: Unrecovered error
    description: |
      Calculate a performance score by summing points from relevant reviews.
      Positive points indicate good performance, negative points indicate issues.
    severity_points:
    - label: Exceptional service experience
      points: 10
    - label: Good service
      points: 5
    - label: Adequate service
      points: 0
    - label: Minor service issue
      points: -2
    - label: Significant service issue
      points: -5
    - label: Terrible service
      points: -10
    modifiers:
    - label: Named with praise
      description: server mentioned by name with positive feedback
      points: 5
    - label: Excellent recommendations
      description: server gave great food/drink recommendations
      points: 3
    - label: Recovery from error
      description: error occurred but was handled well
      points: 2
    - label: Rude or hostile
      description: server described as rude or having attitude
      points: -5
    - label: Unrecovered error
      description: service error not addressed properly
      points: -3
    thresholds:
    - verdict: Excellent
      min_score: 1200
      min_score_by_k:
        25: 150
        50: 300
        100: 600
    - verdict: Needs Improvement
      max_score: 500
      max_score_by_k:
        25: 63
        50: 125
        100: 250
  decision:
    verdicts:
    - Needs Improvement
    - Satisfactory
    - Excellent
    ordered: true
    rules:
    - verdict: Excellent
      label: EXCELLENT
      logic: ANY
      conditions:
      - Total performance score is 1200 or higher
    - verdict: Needs Improvement
      label: NEEDS_IMPROVEMENT
      precondition: Excellent does not apply
      logic: ANY
      conditions:
      - Total performance score is 500 or lower
    - verdict: Satisfactory
      label: SATISFACTORY
      default: true
  output:
    verdict:
      type: enum
      values:
      - Needs Improvement
      - Satisfactory
      - Excellent
      required: true
    evidence:
      type: array
      items:
        review_id: string
        quote: string
      description: Relevant quotes supporting the verdict
    justification:
      type: string
      required: true
      description: Explain how the evidence was used to arrive at the final verdict
    confidence:
      type: enum
      values:
      - low
      - medium
      - high
      note: 'Based on evidence volume: low=1-2, medium=3-5, high=6+ relevant reviews'
    other_notes:
      type: string
      optional: true
      description: Any other relevant observations or caveats
