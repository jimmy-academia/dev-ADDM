policy_id: G4_kitchen_V4
extends: G4_kitchen_V3
version: '1.0'
overview:
  title: Kitchen Performance Assessment
  purpose: |
    Help assess the kitchen performance at this restaurant using customer reviews as evidence.
    This is from the perspective of a business owner evaluating their kitchen team's execution.
    Assign a performance label: Needs Improvement, Satisfactory, or Excellent.

    This assessment uses a point-based scoring system with recency weighting.
  incident_definition: |
    Consider reviews that mention any of the following:
    - food quality issues (temperature, doneness, taste)
    - consistency of food quality across visits
    - presentation and plating
    - chef skill level
    - food sent back or complaints addressed

    Reviews that only discuss service without mentioning food quality carry less weight.
normative:
  terms:
  - ref: shared:ACCOUNT_TYPE
  - ref: kitchen:FOOD_ISSUE_TYPE
  - ref: kitchen:ISSUE_SEVERITY
  - ref: kitchen:CONSISTENCY
  - ref: kitchen:CHEF_SKILL
  - ref: kitchen:FOOD_SENT_BACK
  scoring:
    field_mapping:
      severity_field: chef_skill
      value_mappings:
        excellent: Exceptional food quality
        good: Good food quality
        average: Adequate food quality
        poor: Significant food issue
      modifier_mappings:
      - field: consistency
        value: consistent
        label: Consistent excellence
      - field: consistency
        value: inconsistent
        label: Inconsistent quality
      - field: food_sent_back
        value: 'true'
        label: Food sent back
    description: |
      Calculate a performance score by summing points from relevant reviews,
      with recency weighting applied. Chef changes and menu updates mean
      recent reviews are more indicative of current quality.
    severity_points:
    - label: Exceptional food quality
      points: 10
    - label: Good food quality
      points: 5
    - label: Adequate food quality
      points: 0
    - label: Minor food issue
      points: -2
    - label: Significant food issue
      points: -5
    - label: Inedible food
      points: -10
    modifiers:
    - label: Consistent excellence
      description: same great quality across visits
      points: 5
    - label: Creative/unique dishes
      description: chef praised for creativity
      points: 3
    - label: Beautiful presentation
      description: plating and presentation praised
      points: 2
    - label: Inconsistent quality
      description: hit or miss between visits
      points: -5
    - label: Food sent back
      description: dish had to be returned
      points: -3
    reference_date: "2022-01-01"
    recency_rules:
    - age: Within 6 months
      weight: full point value
      max_age_years: 0.5
      weight_multiplier: 1.0
    - age: 6 months to 1 year
      weight: three-quarter point value (multiply by 0.75)
      max_age_years: 1.0
      weight_multiplier: 0.75
    - age: 1-2 years old
      weight: half point value (multiply by 0.5)
      max_age_years: 2.0
      weight_multiplier: 0.5
    - age: Over 2 years old
      weight: quarter point value (multiply by 0.25)
      max_age_years: 999
      weight_multiplier: 0.25
    thresholds:
    - verdict: Excellent
      min_score: 700
      min_score_by_k:
        25: 175
        50: 350
        100: 700
    - verdict: Needs Improvement
      max_score: 250
      max_score_by_k:
        25: 63
        50: 125
        100: 250
  decision:
    verdicts:
    - Needs Improvement
    - Satisfactory
    - Excellent
    ordered: true
    rules:
    - verdict: Excellent
      label: EXCELLENT
      logic: ANY
      conditions:
      - Total performance score is 1400 or higher (after recency weighting)
    - verdict: Needs Improvement
      label: NEEDS_IMPROVEMENT
      precondition: Excellent does not apply
      logic: ANY
      conditions:
      - Total performance score is 500 or lower (after recency weighting)
    - verdict: Satisfactory
      label: SATISFACTORY
      default: true
  output:
    verdict:
      type: enum
      values:
      - Needs Improvement
      - Satisfactory
      - Excellent
      required: true
    evidence:
      type: array
      items:
        review_id: string
        quote: string
      description: Relevant quotes supporting the verdict
    justification:
      type: string
      required: true
      description: Explain how the evidence and recency weighting were used to arrive at the final verdict
    confidence:
      type: enum
      values:
      - low
      - medium
      - high
      note: 'Based on evidence volume: low=1-2, medium=3-5, high=6+ relevant reviews'
    other_notes:
      type: string
      optional: true
      description: Any other relevant observations or caveats
